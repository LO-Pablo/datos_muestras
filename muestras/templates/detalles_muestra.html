{%extends 'master.html'%}

{% block title %}
Detalles de la Muestra
{% endblock %}
{% load static %}
<!-- Detalles de una muestra especÃ­fica -->
{% block content %}
<link rel ="stylesheet" href="{% static 'forms.css' %}">
<div class="form-container">

    <!-- BARRA DE ACCIONES -->
    <div class="acciones-estudios">
        <a href="/muestras" class="accion-btn accion-secundaria">
            â¬… Volver a muestras
        </a>

        <a href="/archivo" class="accion-btn accion-secundaria">
            ğŸ§Š Ver archivo
        </a>

        <a href="/muestras/{{ muestra.id }}/editar"
           class="accion-btn accion-primaria">
            âœï¸ Editar muestra
        </a>
    </div>

    <!-- CABECERA -->
    <div class="form-header">
        <h1>ğŸ§¬ Detalles de la muestra</h1>
        <p class="form-subtitle">
            InformaciÃ³n completa y estado actual de la muestra.
        </p>
    </div>

    <!-- IDENTIFICACIÃ“N -->
    <div class="form-card">
        <h2>ğŸ”– IdentificaciÃ³n</h2>

        <div class="detalle-grid">
            <p><strong>ID individuo:</strong> {{ muestra.id_individuo }}</p>
            <p><strong>Nombre laboratorio:</strong> {{ muestra.nom_lab }}</p>
            <p><strong>Material:</strong> {{ muestra.id_material }}</p>
            <p><strong>Observaciones:</strong>{{ muestra.observaciones }}</p>
        </div>
    </div>

    <!-- MEDIDAS -->
    <div class="form-card">
        <h2>âš–ï¸ Medidas actuales</h2>

        <div class="detalle-grid">
            <p>
                <strong>Volumen:</strong>
                {% if muestra.volumen_actual and muestra.unidad_volumen %}
                    {{ muestra.volumen_actual }} {{ muestra.unidad_volumen }}
                {% else %} â€”
                {% endif %}
            </p>

            <p>
                <strong>ConcentraciÃ³n:</strong>
                {% if muestra.concentracion_actual and muestra.unidad_concentracion %}
                    {{ muestra.concentracion_actual }} {{ muestra.unidad_concentracion }}
                {% else %} â€”
                {% endif %}
            </p>

            <p>
                <strong>Masa:</strong>
                {% if muestra.masa_actual and muestra.unidad_masa %}
                    {{ muestra.masa_actual }} {{ muestra.unidad_masa }}
                {% else %} â€”
                {% endif %}
            </p>
        </div>
    </div>

    <!-- FECHAS -->
    <div class="form-card">
        <h2>ğŸ“… Fechas</h2>

        <div class="detalle-grid">
            <p><strong>ExtracciÃ³n:</strong> {{ muestra.fecha_extraccion|default:"â€”" }}</p>
            <p><strong>Llegada:</strong> {{ muestra.fecha_llegada|default:"â€”" }}</p>
        </div>
    </div>

    <!-- ESTADO -->
    <div class="form-card">
        <h2>ğŸš¦ Estado</h2>

        <div class="detalle-grid">
            <p><strong>Estado inicial:</strong> {{ muestra.estado_inicial|default:"â€”" }}</p>
            <p><strong>Estado actual:</strong>
                <span class="estado-chip estado-{{ muestra.estado_actual|lower }}">
                    {{ muestra.estado_actual|default:"â€”" }}
                </span>
            </p>
        </div>
    </div>

    <!-- PROCEDENCIA -->
    <div class="form-card">
        <h2>ğŸ¥ Procedencia y estudio</h2>

        <div class="detalle-grid">
            <p><strong>Centro:</strong> {{ muestra.centro_procedencia|default:"â€”" }}</p>
            <p><strong>Lugar:</strong> {{ muestra.lugar_procedencia|default:"â€”" }}</p>
            <p><strong>Estudio:</strong> {{ muestra.estudio|default:"â€”" }}</p>
        </div>
    </div>

    <!-- OBSERVACIONES -->
    {% if muestra.observaciones %}
    <div class="form-card">
        <h2>ğŸ“ Observaciones</h2>
        <p class="wrap-text">{{ muestra.observaciones }}</p>
    </div>
    {% endif %}

</div>
{% endblock %}