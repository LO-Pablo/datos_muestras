{% extends "master.html" %}

{% block title %}
Lista de estudios del investigador
{% endblock %}
{% load static %}
{% block content %}
<link rel ="stylesheet" href="{% static 'estudios_todos.css' %}">
<div class="acciones-estudios">
    <a href="/" class="accion-btn accion-secundaria">
        â¬… Volver al inicio
    </a>

    <a href="/estudios/nuevo" class="accion-btn accion-primaria">
        âž• Nuevo estudio
    </a>
</div>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
{% if messages %}
 {% for message in messages %}
  <script>
      Swal.fire({
        title: '{{ message.tags|capfirst }}',
        text: '{{ message }}',
        icon: '{{ message.tags }}', // 'success', 'error', 'info', 'warning'
        confirmButtonText: 'Aceptar'
      });
  </script>
{% endfor %}
{% endif %}
<div class="table-container">
    <table class="styled-table">
        <thead>
            <tr>
                <th>ID</th>
                <th>Referencia</th>
                <th>Nombre</th>
                <th class="wrap-text">DescripciÃ³n</th>
                <th>Inicio</th>
                <th>Fin</th>
                <th>Investigador principal</th>
                <th>Acciones</th>
            </tr>
        </thead>

        <tbody>
        {% for estudio in estudios %}
            <tr>
                <td>{{ estudio.id }}</td>

                <td>{{ estudio.referencia_estudio|default:"â€”" }}</td>

                <td>{{ estudio.nombre_estudio }}</td>

                <td class="wrap-text">
                    {{ estudio.descripcion_estudio|default:"â€”" }}
                </td>

                <td>{{ estudio.fecha_inicio_estudio|default:"â€”" }}</td>

                <td>{{ estudio.fecha_fin_estudio|default:"â€”" }}</td>

                <td>{{ estudio.investigador_principal|default:"â€”" }}</td>

                <td>
                    <a href="/estudios/{{estudio.id_estudio}}" class="chip-detalle">
                        ðŸ“„ DocumentaciÃ³n
                    </a>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

{%endblock%}